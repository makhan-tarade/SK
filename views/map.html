<!DOCTYPE html>
<html>

<head>
    <script src="http://maps.googleapis.com/maps/api/js">
    </script>



    <script>
        function initialize() {
            var mapProp = {
                center: new google.maps.LatLng(51.508742, -0.120850),
                zoom: 5,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>

    <script>
        function initialize() {
            var mapProp = {
                center: new google.maps.LatLng(51.508742, -0.120850),
                zoom: 5,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
            document.getElementById('lat').value = 51.508742
            document.getElementById('lng').value = -0.120850

            // marker drag event
            google.maps.event.addListener(marker, 'drag', function (event) {
                document.getElementById('lat').value = event.latLng.lat();
                document.getElementById('lng').value = event.latLng.lng();
            });

            //marker drag event end
            google.maps.event.addListener(marker, 'dragend', function (event) {
                document.getElementById('lat').value = event.latLng.lat();
                document.getElementById('lng').value = event.latLng.lng();
            });
        }

        google.maps.event.addDomListener(window, 'load', initialize);


    </script>

</head>

<body>

    <form action="maps.php" method="post">
        Select your location
        <input type='hidden' name='lat' id='lat'>
        <input type='hidden' name='lng' id='lng'>
        <input type="submit" value="Submit">
    </form>
    <div id="googleMap" style="width:500px;height:380px;"></div>

</body>

</html>